<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title></title>
<meta charset="utf-8">
<meta name="description" content="">
<meta name="author" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="">
<!--[if lt IE 9]>
<script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="shortcut icon" href="">

<!-- <link rel="stylesheet" href="./style.css"> -->
</head>
<body>
<!-- Place your content here -->
<!-- SCRIPTS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/aes.min.js"></script>
<script>
	var truePassword;
	$.get("passwd", function(data){
		truePassword=data;
	});
	function checkPassword(elem){
		var encrypted = CryptoJS.SHA256(elem.value).toString(CryptoJS.enc.Base64);
		$("input[name=password_check]").val(encrypted);
		var modifiedKey = CryptoJS.SHA256(elem.value + "+").toString(CryptoJS.enc.Base64)
		$("input[name=encryption_key]").val(modifiedKey);
		if(truePassword==encrypted){
			$("#password-information").text("");
			$("input[type=submit]").removeAttr('disabled');
		}else{
			$("#password-information").text("パスワードが違います。");
			$("input[type=submit]").attr('disabled','disabled');
		}
	}
</script>
<section>
	<h1>究める古典単語330　一問一答テスト</h1>
<form action="./quiz.html">
	<p>
		パスワード：<input type="password" onChange="checkPassword(this)">
		<strong id="password-information"></strong>
	</p>
	<p>
		範囲：<input type="text" name="start">番から<input type="text" name="end">番まで
	</p>
	<p>
		<input type="radio" name="type" value="random" selected>ランダム
		<input type="radio" name="type" value="recent">最近やっていない問題から
		<input type="radio" name="type" value="wrong">最近間違えた問題から
	</p>
		<input type="hidden" name="password_check">
		<input type="hidden" name="encryption_key">
	<p>
		<input type="submit" value="開始" disabled>
	</p>
</form>
	</section>
</body>
</html>